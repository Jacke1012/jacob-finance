<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    

    <meta name="color-scheme" content="dark">
    <meta id="theme-color" name="theme-color" content="#0b0b10">
    <style>
        .btn-error {
        background-color: red !important;
        border-color: red !important;
        color: white !important;
        }

        /* Theme variables */
        :root {
        --bg: #0b0b10;
        --fg: #e9e9f1;
        --muted: #b3b3be;
        --card: #14141b;
        --border: #2a2a35;
        --primary: #7ab3ff;
        --primary-contrast: #0b0b10;
        --table-stripe: #171722;
        --input-bg: #111118;
        }

        body {
            background: var(--bg);
            color: var(--fg);
            display: flex;
        }
        h1, h2, h3, h4, h5, h6 { color: var(--fg); }

        .btn-primary {
        background-color: var(--primary) !important;
        border-color: var(--primary) !important;
        color: var(--primary-contrast) !important;
        }

        .container {
            display: flex;
            flex: 1 1 auto;  
            flex-direction: column;
            width: fit-content;
            min-width: 0;  
            max-width: none;
            padding-top: 20px; 
            padding-left: 10%;
            padding-right: 10%;
        }

        .div-primary{
            display: flex;
            flex-direction: column; 
            flex:1 1 100%; 
            min-width:0;
        }


        .form-control, .custom-select {
        background-color: var(--input-bg);
        color: var(--fg);
        border-color: var(--border);
        }
        .form-control:focus, .custom-select:focus {
        background-color: var(--input-bg);
        color: var(--fg);
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(122,179,255,0.25);
        }
        label { color: var(--fg); }

        table.table { color: var(--fg); background: var(--card); border-color: var(--border); }
        .table thead th { border-bottom-color: var(--border); }
        .table td, .table th { border-top-color: var(--border); }
        .table-striped tbody tr:nth-of-type(odd) { background-color: var(--table-stripe); }

    </style>
</head>

<body>

    <div class="container">
        <h2>Finance</h2>
        <div class="div-primary">
            <form id="expense-form">
                <div class="form-group">
                    <label for="date_time">Date and Time:</label> <button id="refresh-date" type="button"
                        class="btn btn-primary">Refresh</button>
                    <input type="datetime-local" class="form-control" id="date_time" required>
                </div>
                <div class="form-group">
                    <label for="amount">Amount:</label>
                    <input type="number" step="0.01" class="form-control" id="amount" required>
                </div>
                <div class="form-group">
                    <label for="description">Company:</label>
                    <input type="text" class="form-control" id="company" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="description">Description:</label>
                    <input type="text" class="form-control" id="description" autocomplete="off">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>



        <div class="div-primary">
            <h2>Expenses</h2>
            <div id="month-summary"></div>
            <div id="week-summary"></div>

            <div id="month-navigation">
                <button id="prev-month" class="btn btn-primary">Previous Month</button>
                <span id="current-month-year">January 2024</span>
                <button id="next-month" class="btn btn-primary">Next Month</button>
            </div>
            <div id="week-navigation">
                <button id="prev-week" class="btn btn-primary">Previous Week</button>
                <span id="current-week">Week 1</span>
                <button id="next-week" class="btn btn-primary">Next Week</button>
            </div>
            <div style="padding-left: 20px;">
                <input class="form-check-input" type="radio" id="week-radio" name="data-format" value="week" checked />
                <label class="form-check-label" for="week-radio">Week</label>
            </div>
            <div style="padding-left: 20px;">
                <input class="form-check-input" type="radio" id="month-radio" name="data-format" value="month" />
                <label class="form-check-label" for="month-radio">Month</label>
            </div>
        </div>


        <div class="div-primary">
            <table class="table" id="expenses-table">
                <thead>
                    <tr>
                        <th>Date/Time</th>
                        <th>Company</th>
                        <th>Description</th>
                        <th>Amount</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Expenses will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="/index.js"></script>
    <script src="/sw_loader.js"></script>

</body>

</html>